<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Burntrees</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#VERSION">VERSION</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#OPTIONS">OPTIONS</a></li>
  <li><a href="#USAGE">USAGE</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#REPORTING-BUGS">REPORTING BUGS</a></li>
  <li><a href="#DEPENDENCIES">DEPENDENCIES</a></li>
  <li><a href="#DOWNLOAD">DOWNLOAD</a></li>
  <li><a href="#LICENSE-AND-COPYRIGHT">LICENSE AND COPYRIGHT</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>burntrees.pl</p>

<h1 id="VERSION">VERSION</h1>

<p>Documentation for burntrees.pl version 0.3.0</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<p>burntrees.pl [--burnin=&lt;number&gt;] [--pburnin=&lt;number&gt;] [--start=&lt;number&gt;] [--end=&lt;number&gt;] [--jump=&lt;number&gt;] [--IFeelLucky=&lt;number&gt;] [--treesonly] [--rmbrlens] [--rmcomments] [--rmsupport] [--sci2norm=&lt;nr&gt;] [--myr] [--[no]close] [--getinfo] [--[no]labels] [--format=altnexus|phylip] [--outfile=&lt;file_name&gt;] FILE [&gt; OUTPUT]</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Script for manipulating tree (*.t, *.trprobs, *.con, *.trees) and parameter (*.p, *.log) files from MrBayes (v.3), BEAST, and PhyloBayes.</p>

<p>The script extracts trees and (by default) the taxon translation table and the trailing &quot;end;&quot; from tree file.</p>

<p>A number of options are available:</p>

<p>Any contiguous interval of trees can be printed, as well as trees only (nothing other than tree descriptions).</p>

<p>The samples can be thinned by setting a value for how many trees to jump before next is printed.</p>

<p>Branch lengths, support values, and comments can be removed from trees before printing.</p>

<p>Branch lengths in scientific numeric format can be transformed to a fixed numeric format.</p>

<p>MrBayes clock trees with branch lengths in substitutions per site can be transformed to branch lengths in time units.</p>

<p>A random set of trees can be printed from the tree file.</p>

<p>Lines can also be extracted from a MrBayes *.p file.</p>

<p>Trees can be printed in Phylip (Newick) format or as altnexus (sequence labels instead of numbers), that is, the script can serve as an efficient tree format converter.</p>

<h1 id="OPTIONS">OPTIONS</h1>

<p>Mandatory arguments to long options are mandatory for short options too</p>

<dl>

<dt id="b---burnin-number"><b>-b, --burnin=</b><i>number</i></dt>
<dd>

<p>Start printing after tree <i>number</i>.</p>

</dd>
<dt id="c---close"><b>-c, --close</b></dt>
<dd>

<p>Forces a trailing &quot;end;&quot; to be printed after the last tree. <b>--noclose</b> prevents the &quot;end;&quot; to be printed. Note that the trailing &quot;end;&quot; in the tree file is printed by default unless <b>--noclose</b> is given.</p>

</dd>
<dt id="co---concatenate"><b>-co, --concatenate</b></dt>
<dd>

<p>Concatenate several files -- <i>Not yet implemented</i>. See <b>USAGE</b> for alternatives.</p>

</dd>
<dt id="e---end-number"><b>-e, --end=</b><i>number</i></dt>
<dd>

<p>End the printing of trees after tree <i>number</i> (inclusively). If no <b>--end</b> is given, prints to last tree in file.</p>

</dd>
<dt id="f---format-format"><b>-f, --format=</b><i>format</i></dt>
<dd>

<p>Trees are printed as specified by <i>format</i>, where <i>format</i> is either <i>altnexus</i>: with sequence (taxon) labels instead of numbers, or <i>phylip</i> (the Newick format).</p>

</dd>
<dt id="g---getinfo"><b>-g, --getinfo</b></dt>
<dd>

<p>Print information about the number of trees (or samples in p file), thinning, number of samples, presence of branch lengths and support values in file and quit.</p>

</dd>
<dt id="h---help"><b>-h, --help</b></dt>
<dd>

<p>Prints help message and exits.</p>

</dd>
<dt id="i---IFeelLucky-number"><b>-i, --IFeelLucky=</b><i>number</i></dt>
<dd>

<p>Specify a probability (value between 0 -- 1) for each tree to be printed. That is, print each tree with prob. <i>number</i>. Note that <b>--IFeelLucky</b> has precedence over <b>--jump</b>.</p>

</dd>
<dt id="j---jump-number"><b>-j, --jump=</b><i>number</i></dt>
<dd>

<p>Specify a thinning. That is, print every <i>number</i> tree.</p>

</dd>
<dt id="l---labels"><b>-l, --labels</b></dt>
<dd>

<p>Print trees using sequence (taxon) labels instead of the sequence numbers from the translation table. <b>--nolabels</b> (which is the default) prevents the sequence numbers to be substituted.</p>

</dd>
<dt id="ma---man"><b>-ma, --man</b></dt>
<dd>

<p>Displays the manual page.</p>

</dd>
<dt id="my---myr"><b>-my, --myr</b></dt>
<dd>

<p>Transform branch lengths in a MrBayes clock tree from substitutions per site to time units.</p>

</dd>
<dt id="o---outfile-file_name"><b>-o, --outfile=</b><i>file_name</i></dt>
<dd>

<p>Print directly to file <i>file_name</i> instead of standard out.</p>

</dd>
<dt id="p---pburnin-number"><b>-p, --pburnin=</b><i>number</i></dt>
<dd>

<p>Start printing after a fraction of the run, where <i>number</i> is a percentage (e.g. &quot;50&quot; for half the run).</p>

</dd>
<dt id="rmb---rmbrlens"><b>-rmb, --rmbrlens</b></dt>
<dd>

<p>Remove branch lengths from trees.</p>

</dd>
<dt id="rmc---rmcomments"><b>-rmc, --rmcomments</b></dt>
<dd>

<p>Remove comments (text within, and the enclosing square brackets) from trees.</p>

</dd>
<dt id="rms---rmsupport"><b>-rms, --rmsupport</b></dt>
<dd>

<p>Remove support values (bootstrap/posterior probabilities) from trees.</p>

</dd>
<dt id="sc---sci2norm-number"><b>-sc, --sci2norm=<i>number</i></b></dt>
<dd>

<p>Translate branch lengths from scientific to normal or fixed. Change the precision by specifying the (optimal) <i>number</i>.</p>

</dd>
<dt id="st---start-number"><b>-st, --start=</b><i>number</i></dt>
<dd>

<p>Start printing from tree <i>number</i> (inclusively).</p>

</dd>
<dt id="t---treesonly"><b>-t, --treesonly</b></dt>
<dd>

<p>Print trees only (do not print taxon descriptions etc.). If used on a *.p file it skips the &quot;ID&quot; line and the headers.</p>

</dd>
<dt id="v---version"><b>-v, --version</b></dt>
<dd>

<p>Prints version message and exits.</p>

</dd>
<dt id="FILE"><b>FILE</b></dt>
<dd>

<p>Reads a Nexus formatted tree <b>FILE</b>, preferrably MrBayes (v.3) *.t, *.con, and *.trprobs files. <b>FILE</b> can also be a MrBayes parameter file (*.p), or any Nexus formatted tree file, e.g., output from BEAST or other phylogenetic MCMC software (not thoroughly tested!).</p>

</dd>
<dt id="OUTPUT"><b>OUTPUT</b></dt>
<dd>

<p>Prints to <b>STDOUT</b> unless <b>--outfile=</b> is used.</p>

</dd>
</dl>

<h1 id="USAGE">USAGE</h1>

<p>Examples:</p>

<pre><code>  burntrees.pl --burnin=10 data.t &gt; out.t
  burntrees.pl --pburnin=50 data.t
  burntrees.pl --start=11 --end=30 data.t
  burntrees.pl --jump=10 data.t
  burntrees.pl --treesonly data.t
  burntrees.pl --getinfo -b=10 data.t
  burntrees.pl --rmbrlens data.t
  burntrees.pl --rmcomments data.t
  burntrees.pl --ifeellucky=0.50 data.t
  burntrees.pl -b=10 -j=10 -t -rmb data.t
  burntrees.pl --treesonly -b=10 data.p
  burntrees.pl --format=altnexus data.t
  burntrees.pl -f=phylip --outfile=data.phy data.t
  burntrees.pl -f=p -b=1 data.con.tre</code></pre>

<p>For concatenation of several files, use (note the append redirection, &quot;&gt;&gt;&quot;. See also separate script catmb.pl):</p>

<pre><code>  burntrees.pl -b=10 -noc  data.run1.t &gt;  data.t
  burntrees.pl -b=40 -t    data.run2.t &gt;&gt; data.t
  burntrees.pl -b=20 -t -c data.run3.t &gt;&gt; data.t</code></pre>

<p>To print the &#39;#NEXUS&#39;, &#39;begin trees;&#39;, and the translation table only (no trees), or to print the header in .p, .trace, or .log files, use</p>

<pre><code>  burntrees.pl -i -noc data.t</code></pre>

<p>To convert a MrBayes file to a &#39;altnexus&#39; file or a &#39;phylip&#39; file, use</p>

<pre><code>  burntrees.pl --format=altnexus data.t
  burntrees.pl --format=phylip data.t</code></pre>

<p>To concatenate several files in to one altnexus formatted file, use (note the combination of &#39;--format&#39; and &#39;--labels&#39;)</p>

<pre><code>  burntrees.pl -b=10 -noc  -f=a data.run1.t &gt;  data.t
  burntrees.pl -b=40 -t    -l   data.run2.t &gt;&gt; data.t
  burntrees.pl -b=20 -t -c -l   data.run3.t &gt;&gt; data.t</code></pre>

<p>To extract the 10th tree in phylip format, use</p>

<pre><code>  burntrees.pl --start=10 --end=10 --format=phylip data.t</code></pre>

<p>To extract the second tree in the MrBayes .con.tre file (simple format) in phylip format, use</p>

<pre><code>  burntrees.pl -b=1 -f=p data.con.tre</code></pre>

<p>To remove comments from tree descriptions (e.g. trees in &quot;figtree&quot; format), use</p>

<pre><code>  burntrees.pl --rmcomments data.con.tre</code></pre>

<p>To remove support values from tree description for the first tree in a MrBayes .con.tre file (simple format) while changng branch lengths from scientific to normal (three decimals), use</p>

<pre><code>  burntrees.pl --start=1 --end=1 --rmsupport --sci2norm=3 data.con.tre</code></pre>

<p>To remove branch lengths from tree descriptions, use</p>

<pre><code>  burntrees.pl --rmbrlens data.t</code></pre>

<p>To change the branch length format from scientific to numerical (three decimals) use</p>

<pre><code>  burntrees.pl --sci2norm=3 data.con.tre</code></pre>

<p>To change the MrBayes clock branch length format from substitutions per site to time units (Myr) use</p>

<pre><code>  burntrees.pl --myr clock.t
  burntrees.pl --myr --rmcomments clock.t</code></pre>

<p>To (randomly) sample a specific number of trees, use burntrees.pl together with &#39;shuf&#39;. Note that you could sample more trees than you have in your tree file (i.e., performing a bootstrap)!</p>

<pre><code>  burntrees.pl -t data.t | shuf -rn 10
  burntrees.pl -t -f p data.t | shuf -rn 1000</code></pre>

<h1 id="AUTHOR">AUTHOR</h1>

<p>Written by Johan A. A. Nylander</p>

<h1 id="REPORTING-BUGS">REPORTING BUGS</h1>

<p>Please report any bugs to <i>Johan.Nylander @ nbis.se</i>.</p>

<h1 id="DEPENDENCIES">DEPENDENCIES</h1>

<p>Uses Perl modules Getopt::Long and Pod::Usage</p>

<h1 id="DOWNLOAD">DOWNLOAD</h1>

<p>https://github.com/nylander/Burntrees</p>

<h1 id="LICENSE-AND-COPYRIGHT">LICENSE AND COPYRIGHT</h1>

<p>Copyright (c) 2006-2019, Johan Nylander. All rights reserved.</p>

<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>

<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. http://www.gnu.org/copyleft/gpl.html</p>


</body>

</html>


